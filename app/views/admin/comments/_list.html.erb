<%= component "shared/table_section", title: t("comment.list") do %>
  <%= component "shared/table" do %>
    <%= component "shared/table_header", headers: [
      "#",
      t("models.artwork.image"),
      t("models.artwork.title"),
      t("activerecord.attributes.user.display_name"),
      t("models.comment.content"),
      ""
    ].compact %>
    <%= component "shared/table_body" do %>
      <% comments.each do |comment| %>
        <%
          user = comment.user
          artwork = comment.artwork
        %>
        <%= component "shared/table_row" do %>
          <%= component "shared/table_cell", is_header: true do %>
            <%= comment.id %>
          <% end %>
          <%= component "shared/table_cell" do %>
            <%= image_tag artwork.image, size: "32x32", style: "image-rendering: pixelated;" %>
          <% end %>
          <%= component "shared/table_cell" do %>
            <%= link_to artwork.title, admin_artwork_path(artwork), class: "font-bold text-blue-500 hover:underline" %>
          <% end %>
          <%= component "shared/table_cell" do %>
            <%= link_to user.display_name, admin_user_path(user.account_name), class: "font-bold text-blue-500 hover:underline" %>
          <% end %>
          <%= component "shared/table_cell" do %>
            <div class="truncate max-w-[24rem]">
              <%= comment.content %>
            </div>
          <% end %>
          <%= component "shared/table_cell" do %>
            <div class="grid place-items-center">
              <%= link_to admin_comment_path(comment), method: :delete, "data-confirm" => "Are you sure?", class: "w-8 h-8 grid place-items-center rounded-sm text-red-600 transition-colors hover:bg-red-100" do %>
                <i class="fa-solid fa-trash-can"></i>
              <% end %>
            </div>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <%= paginate comments %>
<% end %>