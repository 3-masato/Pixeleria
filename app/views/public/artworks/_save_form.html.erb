<%= form_with model: artwork, local: true do |f| %>
  <% tags = artwork&.tags.present? ? artwork.tags.map(&:name) : [] %>
  <div class="grid gap-y-4">
    <div>
      <%= component "shared/form/label", form: f, field: :title, text: t("models.artwork.title") %>
      <%= component(
        "shared/form/text_field",
        form: f,
        field_type: :text_field,
        field_name: :title
      ) %>
    </div>

    <div>
      <%= component "shared/form/label", form: f, field: :description, text: t("models.artwork.description") %>
      <%= component(
        "shared/form/text_area",
        form: f,
        field_name: :description,
        rows: 3,
        placeholder: "",
      ) %>
    </div>

    <%= component "artwork/tags_input", form: f, tags: tags, label: t("models.artwork.tags") %>

    <div>
      <%= component(
        "shared/form/checkbox",
        form: f,
        field_name: :is_public,
        label_text: t("models.artwork.is_public"),
        checked: true
      ) %>
    </div>

    <%= f.hidden_field :image_data, id: "image_data" %>
    <%= f.fields_for :artwork_canvas do |canvas_form| %>
      <%= canvas_form.hidden_field :pixel_data, id: "pixel_data" %>
      <%= canvas_form.hidden_field :width, id: "width" %>
      <%= canvas_form.hidden_field :height, id: "height" %>
    <% end %>

    <div class="mt-4 flex justify-center items-center">
      <%= component(
        "shared/button",
        style: :outline,
        color: :sky,
        type: :submit,
        class: "w-36 h-10"
      ) do %>
        <%= text %>
      <% end %>
    </div>
  </div>
<% end %>
